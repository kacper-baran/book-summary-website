import{_ as B,r as k,o as r,c as h,a as e,b as f,w as g,d as S,e as M,p as V,f as E,g as O,u as T,h as Z,i as l,j as m,k as I,l as R,t as v,m as b,v as w,n as y}from"./index-0ab874e2.js";const q="/assets/books-2463779_1280-32cddc4f.jpg";const G={},$=t=>(V("data-v-02546bea"),t=t(),E(),t),H={class:"container"},J=$(()=>e("div",{class:"hero"},[e("img",{class:"hero-img",src:q,alt:"Books"})],-1)),K={class:"form-container"},Q={class:"logo-container"},W=$(()=>e("img",{src:O,alt:"logo"},null,-1)),X=$(()=>e("div",{class:"account"},[e("p",null,"test account"),e("p",null,"email: test@test.com"),e("p",null,"password: 12345678")],-1));function Y(t,d){const a=k("router-link");return r(),h("div",H,[J,e("div",K,[e("div",Q,[f(a,{to:"/",class:"logo"},{default:g(()=>[W,S(" Booker ")]),_:1})]),M(t.$slots,"default",{},void 0,!0),X])])}const ee=B(G,[["render",Y],["__scopeId","data-v-02546bea"]]);const x=t=>(V("data-v-5e8d40cc"),t=t(),E(),t),te=["onSubmit"],oe={class:"form-field"},se=x(()=>e("label",{for:"email"},"E-mail:",-1)),ae={key:0,class:"form-field"},ne=x(()=>e("label",{for:"email"},"Username",-1)),le={class:"form-field"},re=x(()=>e("label",{for:"password"},"Password:",-1)),ue={class:"error"},ie={class:"buttons"},ce={key:1},de={__name:"AuthForm",props:["action"],setup(t){const d=T(),a=Z(),U=t,u=l(""),_=l(""),i=l(""),o=l(U.action),A=l(!1),s=l(""),F=m(()=>{a.error&&(s.value=a.error.toLowerCase().replaceAll("_"," "))}),L=async()=>{if(s.value="",o.value==="signup"){const p=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!u.value.match(p)){s.value="invalid email";return}if(_.value.length<3){s.value="Username must be at least 3 characters";return}if(i.value.length<8){s.value="Password must be at least 8 characters long";return}s.value=""}try{o.value==="login"?a.login({email:u.value,password:i.value}):a.signup({email:u.value,username:_.value,password:i.value})}catch(p){console.log(p.message)}},N=()=>{s.value="",o.value==="signup"?(o.value="login",d.replace("/auth/"+o.value)):(o.value="signup",d.replace("/auth/"+o.value))},P=m(()=>o.value==="login"?"Log in":"Sign up"),j=m(()=>o.value==="login"?"Log in":"Sign up"),z=m(()=>o.value==="login"?"Or sign up":"Or log in");return(p,n)=>{const C=k("base-button"),D=k("base-loader");return r(),I(ee,null,{default:g(()=>[A.value?y("",!0):(r(),h("form",{key:0,onSubmit:R(L,["prevent"])},[e("h2",null,v(P.value),1),e("div",oe,[se,b(e("input",{type:"email",id:"email",name:"email","onUpdate:modelValue":n[0]||(n[0]=c=>u.value=c),placeholder:"Enter your e-mail"},null,512),[[w,u.value,void 0,{trim:!0}]])]),o.value==="signup"?(r(),h("div",ae,[ne,b(e("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":n[1]||(n[1]=c=>_.value=c),placeholder:"Enter your username"},null,512),[[w,_.value,void 0,{trim:!0}]])])):y("",!0),e("div",le,[re,b(e("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":n[2]||(n[2]=c=>i.value=c),placeholder:"Enter your password"},null,512),[[w,i.value,void 0,{trim:!0}]])]),e("p",ue,v(s.value||F.value),1),e("div",ie,[f(C,{type:"submit",mode:"accent"},{default:g(()=>[S(v(j.value),1)]),_:1}),f(C,{type:"button",onClick:N},{default:g(()=>[S(v(z.value),1)]),_:1})])],40,te)),A.value?(r(),h("div",ce,[f(D)])):y("",!0)]),_:1})}}},_e=B(de,[["__scopeId","data-v-5e8d40cc"]]),me={__name:"AuthPage",setup(t){return(d,a)=>(r(),I(_e))}};export{me as default};
