import{J as n,h as a,B as m}from"./index-00b8e62f.js";const i=n("summaries",{state:()=>({popupMsg:"",summary:null}),actions:{async deleteSummary(s){const o=a().token,e=await fetch(`https://book-summary-app-1b453-default-rtdb.europe-west1.firebasedatabase.app/summaries/${s}.json?auth=${o}`,{method:"DELETE"}),t=await e.json();e.ok||console.warn(t.error),this.popupMsg="summary has been deleted",setTimeout(()=>{this.popupMsg=null},5e3)},async loadSummary(s){const o=a().token,e=await fetch(`https://book-summary-app-1b453-default-rtdb.europe-west1.firebasedatabase.app/summaries/${s}.json?auth=${o}`),t=await e.json();e.ok||console.warn(t.error),this.summary=t.summary},async addSummary(s){const o=a().token,e=m(),t=await fetch(`https://book-summary-app-1b453-default-rtdb.europe-west1.firebasedatabase.app/summaries/${s.id}.json?auth=${o}`,{method:"PUT",body:JSON.stringify({summary:s.summary,summarizedByUserId:s.summarizedByUserId})}),u=await t.json();t.ok||console.warn(u.error),e.getBooks(),this.popupMsg="Summary added successfully",setTimeout(()=>{this.popupMsg=null},5e3)}}});export{i as u};
