import{_ as $,r as k,o as l,c as h,a as e,b as f,w as g,d as S,e as M,p as B,f as V,g as O,u as T,h as Z,i as r,j as m,k as E,l as R,t as v,m as b,v as w,n as y}from"./index-08fce38b.js";const q="/book-summary-website/assets/books-2463779_1280-32cddc4f.jpg";const G={},I=t=>(B("data-v-6d018ebb"),t=t(),V(),t),H={class:"container"},J=I(()=>e("div",{class:"hero"},[e("img",{class:"hero-img",src:q,alt:"Books"})],-1)),K={class:"form-container"},Q={class:"logo-container"},W=I(()=>e("img",{src:O,alt:"logo"},null,-1));function X(t,d){const a=k("router-link");return l(),h("div",H,[J,e("div",K,[e("div",Q,[f(a,{to:"/",class:"logo"},{default:g(()=>[W,S(" Booker ")]),_:1})]),M(t.$slots,"default",{},void 0,!0)])])}const Y=$(G,[["render",X],["__scopeId","data-v-6d018ebb"]]);const x=t=>(B("data-v-5e8d40cc"),t=t(),V(),t),ee=["onSubmit"],te={class:"form-field"},oe=x(()=>e("label",{for:"email"},"E-mail:",-1)),se={key:0,class:"form-field"},ae=x(()=>e("label",{for:"email"},"Username",-1)),ne={class:"form-field"},re=x(()=>e("label",{for:"password"},"Password:",-1)),le={class:"error"},ue={class:"buttons"},ie={key:1},ce={__name:"AuthForm",props:["action"],setup(t){const d=T(),a=Z(),U=t,u=r(""),_=r(""),i=r(""),o=r(U.action),A=r(!1),s=r(""),F=m(()=>{a.error&&(s.value=a.error.toLowerCase().replaceAll("_"," "))}),L=async()=>{if(s.value="",o.value==="signup"){const p=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!u.value.match(p)){s.value="invalid email";return}if(_.value.length<3){s.value="Username must be at least 3 characters";return}if(i.value.length<8){s.value="Password must be at least 8 characters long";return}s.value=""}try{o.value==="login"?a.login({email:u.value,password:i.value}):a.signup({email:u.value,username:_.value,password:i.value})}catch(p){console.log(p.message)}},N=()=>{s.value="",o.value==="signup"?(o.value="login",d.replace("/auth/"+o.value)):(o.value="signup",d.replace("/auth/"+o.value))},P=m(()=>o.value==="login"?"Log in":"Sign up"),j=m(()=>o.value==="login"?"Log in":"Sign up"),z=m(()=>o.value==="login"?"Or sign up":"Or log in");return(p,n)=>{const C=k("base-button"),D=k("base-loader");return l(),E(Y,null,{default:g(()=>[A.value?y("",!0):(l(),h("form",{key:0,onSubmit:R(L,["prevent"])},[e("h2",null,v(P.value),1),e("div",te,[oe,b(e("input",{type:"email",id:"email",name:"email","onUpdate:modelValue":n[0]||(n[0]=c=>u.value=c),placeholder:"Enter your e-mail"},null,512),[[w,u.value,void 0,{trim:!0}]])]),o.value==="signup"?(l(),h("div",se,[ae,b(e("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":n[1]||(n[1]=c=>_.value=c),placeholder:"Enter your username"},null,512),[[w,_.value,void 0,{trim:!0}]])])):y("",!0),e("div",ne,[re,b(e("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":n[2]||(n[2]=c=>i.value=c),placeholder:"Enter your password"},null,512),[[w,i.value,void 0,{trim:!0}]])]),e("p",le,v(s.value||F.value),1),e("div",ue,[f(C,{type:"submit",mode:"accent"},{default:g(()=>[S(v(j.value),1)]),_:1}),f(C,{type:"button",onClick:N},{default:g(()=>[S(v(z.value),1)]),_:1})])],40,ee)),A.value?(l(),h("div",ie,[f(D)])):y("",!0)]),_:1})}}},de=$(ce,[["__scopeId","data-v-5e8d40cc"]]),pe={__name:"AuthPage",setup(t){return(d,a)=>(l(),E(de))}};export{pe as default};
